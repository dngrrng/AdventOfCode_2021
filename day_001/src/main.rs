///////////////////////////////
// ðŸŽ…â€ Advent of Code 2021 ðŸŽ…â€ //
//    by dngrrng in rust    //
//////////////////////////////

// https://adventofcode.com/2021/day/1

//                 ðŸŒŸ
//               ðŸŒ²ðŸŒ²ðŸŒ²
//              ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//             ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//            ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//           ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//          ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//         ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//        ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//       ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//      ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//     ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//    ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//   ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//  ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸ¦€ðŸŒ²ðŸŒ²
// ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²ðŸŒ²
//               ðŸªµ

///////////////
// Libraries //
///////////////

use std::io::{self, BufReader};
use std::io::prelude::*;
use std::fs::File;

//////////
// Main //
//////////

fn main() -> io::Result<()> {
    // Load input
    let f = File::open("./input/input.txt")?;
    let f = BufReader::new(f);

    // At each new line keep track of last (three) numbers
    let mut x0 = f64::NAN;
    let mut x1 = f64::NAN;
    let mut x2;

    let mut s0 = f64::NAN;
    let mut s1;

    // Running totals for each part
    let mut n = 0;
    let mut m = 0; // for part II

    // Stream over each number in file
    for line in f.lines() {

        x2 = x1;
        x1 = x0;
        // Update new line number
        x0 = line.unwrap().parse::<f64>().unwrap();

        // Keep a sum
        s1 = s0;
        s0 = x0 + x1 + x2; // New sum

        // Part I
        if x0 > x1 {
            n +=  1;
            // println!("{} is larger than {}", x0, x1);
        }

        // Part II
        if s1 < s0 {
            m += 1;
        }

    }
    //////////////////
    // Pretty Print //
    //////////////////

    println!("ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„");
    println!("ðŸŽ„ðŸŽ„ Part I Answer:  {} ðŸŽ„ðŸŽ„",n);
    println!("ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„");
    println!();
    println!("ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„");
    println!("ðŸŽ„ðŸŽ„ Part II Answer: {} ðŸŽ„ðŸŽ„",m);
    println!("ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„ðŸŽ„");

    Ok(())
}

// completed.
// answer I : 1301
// answer II: 1346
